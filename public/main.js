!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t,o){},function(e,t,o){"use strict";o.r(t);const r=document.querySelector(".profile__edit"),n=document.querySelector(".popup__changetext"),i=document.querySelector(".popup__close"),s=document.querySelector(".profile__name"),l=document.querySelector(".profile__title"),a=document.querySelector(".popup__title"),u=document.querySelector(".popup__name");document.querySelector(".popup__addcard"),document.querySelector(".profile__add"),document.querySelector(".popup__close_addcard"),document.querySelector(".popup__addcard"),document.querySelector(".popup__url"),document.querySelector(".popup__place"),document.querySelector(".popup__edit-form_add"),document.querySelector(".popup__img"),document.querySelector(".popup__closeimg");class c{constructor(e,t,o){this._text=e,this._link=t,this._template=o}_getTemplate(){return document.querySelector(this._template).content.querySelector(".elements__element").cloneNode(!0)}_addTrash(){this._newCard.querySelector(".elements__trash").addEventListener("click",e=>{e.target.parentElement.remove()})}_addHeart(){this._newCard.querySelector(".elements__heart").addEventListener("click",e=>{e.target.classList.toggle("elements__heart_clicked")})}_addEvents(){this._newCard.querySelector(".elements__image").addEventListener("click",e=>{const t=document.querySelector(".popup__image"),o=document.querySelector(".popup__imgtext"),r=document.querySelector(".popup__img");t.src=e.target.src,t.alt=e.target.alt;const n=e.target.nextElementSibling;o.textContent=n.querySelector(".elements__text").textContent,r.classList.toggle("popup_visible"),r.addEventListener("click",e=>{e.target.classList.contains("popup")&&r.classList.remove("popup_visible")}),window.addEventListener("keyup",e=>{"Escape"===e.key&&r.classList.remove("popup_visible")})})}addCard(){return this._newCard=this._getTemplate(),this._addEvents(),this._addHeart(),this._addTrash(),this._newCard.querySelector(".elements__text").textContent=this._text,this._newCard.querySelector(".elements__image").src=this._link,this._newCard.querySelector(".elements__image").alt=this._text,this._newCard}}class p{constructor(e,{formSelector:t,inputSelector:o,submitButtonSelector:r,inactiveButtonClass:n,inputErrorClass:i,errorClass:s}){this._formSelector=t,this._inputSelector=o,this._submitButtonSelector=r,this._inactiveButtonClass=n,this._inputErrorClass=i,this._errorClass=s,this._form=e}_checkInputValidation(e){e.validity.valid?this._hideErrorMessage(e):this._showErrorMessage(this._form,e,e.validationMessage)}_showErrorMessage(e,t,o){const r=t.nextElementSibling;t.classList.add(this._inputErrorClass),r.textContent=o,r.classList.add(this._errorClass)}_hideErrorMessage(e){const t=e.nextElementSibling;e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_toggleButtonState(e,t){e.every(e=>e.validity.valid)?(console.log("showbutton"),t.classList.remove(this._inactiveButtonClass)):(t.classList.add(this._inactiveButtonClass),console.log("hidebutton"))}enableValidation(){Array.from(document.querySelectorAll(this._formSelector)).forEach(e=>{e.addEventListener("submit",e=>{e.preventDefault()});const t=Array.from(e.querySelectorAll(this._inputSelector)),o=e.querySelector(this._submitButtonSelector);this._toggleButtonState(t,o),t.forEach(e=>{e.addEventListener("input",()=>{this._checkInputValidation(e),this._toggleButtonState(t,o)})})})}}o(0);const d=document.querySelector(".popup__addcard"),_=document.querySelector(".profile__add"),m=document.querySelector(".popup__close_addcard"),g=document.querySelector(".popup__addcard"),v=document.querySelector(".popup__url"),y=document.querySelector(".popup__place"),h=document.querySelector(".popup__edit-form_add"),S=document.querySelector(".popup__img"),f=document.querySelector(".popup__closeimg"),b={formSelector:".popup__edit-form",inputSelector:".popup__edit",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_invalid",inputErrorClass:"popup__edit_invalid",errorClass:"popup__edit_error"};function L(e){e.addEventListener("click",t=>{t.target.classList.contains("popup")&&e.classList.remove("popup_visible")}),window.addEventListener("keyup",t=>{"Escape"===t.key&&e.classList.remove("popup_visible")})}function q(e,t){const o=document.querySelector(".elements__list"),r=new c(e,t,".element__elem").addCard();o.append(r)}function E(){d.classList.contains("popup_visible")?d.classList.toggle("popup_visible"):(d.classList.toggle("popup_visible"),L(d))}function C(){n.classList.contains("popup_visible")?n.classList.toggle("popup_visible"):(n.classList.toggle("popup_visible"),a.value=l.innerText,u.value=s.innerText,L(n))}[{name:"Lake Louise",link:"./images/Lake-louise.png",alt:"Idylic picture of Lake Louise"},{name:"Yosemite Valley",link:"./images/yosemite.png",alt:"YoseMite Valley from a birds eye perspective- hovering over a lake"},{name:"Islands Brygge",link:"./images/islandsBrygge.png",alt:"Moody harbour picture - looking out on the sail boats"},{name:"Latemar",link:"./images/latemar.png",alt:"Latemar nature pic- nature Picture"},{name:"Strøget",link:"./images/stroeget.png",alt:"Largest European pedestrian shopping street, and one of the oldest- Strøget shot from birds eye view"},{name:"Copenhagen",link:"./images/Copenhagen.png",alt:"Rooftops of Copenhagen- moody- rainy - old but classic"}].forEach(e=>{q(e.name,e.link)}),r.addEventListener("click",C),i.addEventListener("click",C),n.addEventListener("submit",e=>{!function(e){e.preventDefault(),C(),l.textContent=a.value,s.textContent=u.value}(e)}),_.addEventListener("click",E),m.addEventListener("click",E),g.addEventListener("submit",e=>{!function(e){e.preventDefault(),E(),q(y.value,v.value),h.reset()}(e)}),f.addEventListener("click",(function(){S.classList.toggle("popup_visible"),L(S)})),new p(n,b).enableValidation(),new p(S,b).enableValidation()}]);